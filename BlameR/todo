Информация внутри итемов: с кого пдает, вероятность выпадения. Или, дроп прописывать внутри мобов?..

Проблемы в дизайне
1. Класс главгера зачем-то имплементит IScreen, при етом не находится в пакадже screens и вообще, зачем ему все это
Главный класс Blame, напротив, ничего не имплементит, хотя по многим признакам чистой воды IScreen. Надо бы вынести
общие свойства из этих двоих классов и собрать их в новый класс, FieldScreen, только надо продумать, как все это
аккуратно сделать.
2. Закрытые и открытые двери детектятся по имени. по имени, блджад! переписать нормально на getState()
3. В Blame менеджер клавиатурных событий берется дефолтный, нужно бы в целях единообразия создавать новый класс.
Ну ето скорее к первому пункту тоже.

Система чтения текста из xml. Переписать систему сообщений
1. xml-файл вместо properties-файлов
2. ? - для подстановок в текст (предусмотреть спецсимвол /? - для того, чтобы знак вопроса можно было писать)
3. выделять слова и участки текста другими цветами
4. другой шрифт для больших (более-менее) объемов текста

Хешмапы в инвентаре: "a" -> Keyboard.KEY_A

Карта (буква М) вместо масштабирования
Скроллинг в окне помощи (и мб еще где-нибудь, в инвентаре, например)

Соглашения при написании кода:
1. 

когда проходищь над предметом, писать типа "здесь лежит такой-то предмет/несколько предметов"

разрушение стен! (кроме стен, опоясывающих уровень на границе карты)

предметы: краткое описание и полное описание

еще имп:
Radius - увеличивает область видимости

проблемы в Blamer:
* масштабирование дергается
* сохранение файлов
* проседание фпс во время смены анимации
* система ходов глючит на дропе/подборе предметов

********************** изменения в версии 0.0.3 ***************
- добавлена команда look
- класс StateMap вместо HashMap<String, String>
- алгоритмы построения данженов
- локализация игры на русский и английский языки (два файла пропертей)
- перешел на сборку проекта утилитой ant (написан build.xml и build.properties)

- Emitter Part
- Corrupted Stations
***************************************************************

тайники: при взломе киборгов можно найти в их голове инфу о тайниках, где могут лежать всякие ништяки

Станции: изначально все корруптед. Корруптед станции генерят вокруг себя Silicon Creatures
определенного уровня (зависит от текущего количества убийств главгеров). Килли и Сибо захватывают
станции - после этого на ближайших станциях начинают генериться SafeGuards, которые посылаются к
станции, чтобы отвоевать ее. Их уровень тоже привязан к статистике убийств Килли и Сибо (от уровня
зависит дамаг и количество хп).

еще имп:
Critical - добавляет вероятность удвоенного или утроенного дамага

имп Килли - Emitter - продумать и реализовать его. Это критично для игры по манге Blame!

Kick - с некоторой вероятностью, не каждый раз. Вероятность растет с количеством сцепленных киков.
Новый имп - Exploit - после попадания выстрела в цель, от цели в рандомные точки позади нее
выстреливается еще несколько пуль (количество растет вместе с количеством спецепленных импов)

Взломанному мобу можно приказать оказывать поддержку главгерам. Аналогично двигаться за ними и
атаковать цели. Так можно небольшую армию сколотить.

Возможность отдавать приказы близстоящим - второму игроку и дружественным мобам без 
переключения на них (клавиша T)

Команда look (клавиша L)

Комбинации импов: в специальном устройстве из двух или трех импов собирается одно новое, более 
мощное 

окончания слов в русском варианте
баг с генерацией в углу
баг с impsNear
баги: несовершение хода при выбрасывании предмета и пропуск хода при выбрасывании импа из пушки (когда
инвентарь переполнен)

перейти на нормальные шрифты для надписей

баг с отображением дамага в главном окне и в окне оружия

вписать в Rebuild Station выход по esc

сделать, чтобы скорость распространения заражения была ниже, если главгер стоит, не двигаясь

решить вопрос с setDecision - чтобы ход не пропускал.

Не стирать Messages. использовать разные процессоры сообщений в разных окнах. Основное - Messages - 
не стирать. Вообще не удалять там сообщения (сейчас оставляются последние 5)Будет такой типа лог.

Текущие проблемы:
+ перейти на дисплейные списки
алгоритм отрисовки: чтобы все рисовалось в отведенных рамках (сейчас области видимости главгеров рисуются
отдельно и поверх)
разобраться с анимацией: чтобы все нормально анимировались бы и не пропадали
разобраться с анимацией еще вот в чем: чтобы сначала шла анимация а потом выполнялось действие (например,
анимация действия достигала бы врага и потом включался бы взлом)
баг со снятием импов-расширителей с вепона
пропуск хода после принудительного дропа импов из вепона при заполненном инвентаре
возможно: перейти на задание свойств классов-наследников в конструкторе, а не через имплементацию 
абстрактных методов базового класса. Плюсы: уменьшит размеры
****

День первый. 
Реализована система вывода букв в любую точку экрана (на основе класса-синглтона MyFont)

День второй.
Сделан класс Color, добавлена возможность делать буквы разноцветными.
Идея теней за объектами: рассчитывать проходимость в зависимости не только от типа тайла, но и от того, стоит ли
на тайле кто-то - одним алгоритмом.

чтобы онемации шли друг за другом в правильном порядке - надо передавать им параметр time. И в field проигрывать анимации
с корректным таймом.

Все еще думаю, как лучше сделать: сохранять в буфер введенные команды, если они вводятся слишком быстро и выполнять их в 
порядке поступления, или просто не принимать новые команды, пока не выполнилась предыдущая. Проблема тут только с главгером 
в общем-то и только с движением - нужно чтобы его анимация (раз уж я ей страдаю) была плавной.

продумать:
как организовать выводи различных изображений (карта, инвентарь итд)
как организовать управление в различных режимах (регистрация/дерегистрация клавиатурных эвентов?)
постараться остаться в рамках концепции с decision'ами (я думаю насчет десижина SelectTarget для различных надобностей,
еще варианты: ShowInventory десижином? Или сделать как с квестовой системой в GZ... Или расширить систему десижинов на 
рендер тоже как-то...)

дописать в ALiving еще методов: вывести всех врагов в округе, вывести тайлы карты мб, еще что-то... Пока врагов.

Идея Интерфейса Screen... что-то такое
--
ну нах, наверное...

Интерфейс:
? - Открывать окно помощи
d - дропать итемы - открывать инвентарь, там выбирать и дропать
Внутри инвентаря:
нажатие буквы соотв итему - открывать описание итема - задать функцию getDescr()
Экипировка:
e - открывать инвентарь с итемами, которые можно надеть (задать таким getState "Equipable")

Другой вариант:
e - открывать инвентарь с надетыми итемами. выбор - снять итем, если одет...

Уфф, вроде из итемов будет только пистолет? продумать все еще раз.

зделать синглтонами: Field, LivingList
сменить разрешение на 800*600

баг: копирование мобов на карте


Гаемплай
Один большой уровень - запутанный лабиринт, состоящий из коридоров и комнат. Пустот нет, все пространство занято лабиринтом.
Главгеры начинают в одном из четырех углов уровня. Искомая точка находится на противоположной стороне, 
но неизвестно, какой именно (то есть, если начинаем в углу прямоугольника, нас интересуют две противоположные его стороны,
не примыкающие к данному углу). Кроме того, на уровне сложно определить, достигнута ли граница карты, что еще более усложняет 
поиск.

На уровне расположены Factories - компьютерные станции, узлы 
Welcome to North-West Public Unit! What do you want to do?
Welcome to East Emergency Center!
Welcome to Public Tech Factory!
South-East Cyber Station welcomes you!
PCell Tech Station ready to serve you
Welcome to West Lain Rebuild Node!
Welcome to 23 Subnetwork's Unit (Point)
Разных типов: 
* Rebuild Station. Восстановить убитого игрока из его генетической информации. Восстановить хп. Снизить уровень зражения.
Надо будет продумать ограничения ресурса станции, чтобы нельзя было постоянно тусить в одном районе, постоянно восстанавливаясь. 
Например: то, что охотники с близлежащих станций будут постоянно двигаться к отвоеванной станции, пытаясь захватить ее обратно
(- We must go. Hunters will be here soon.)
Еще: уровень заражения снижается с помощью промежуточной вакцины, которая хранится на Rebuild Station'ах, ее запас ограничен.
* Power Station. Восстановить количество энергии, восстановить снабжение энергией в регионе: некотором районе вокруг
станции. Влияет на возможность открыть дверь. Типа дверь может быть обесточенной, и чтобы ее открыть нужно искать
такую станцию поблизости. Ткже дверь может быть просто заблокированной.
Станция может быть нормальной и corrupted - захваченной киборгами. Тогда, чтобы получить к ней доступ, ее нужно 
взламывать (аналогично как киборгов, см. ниже). Если киборгами захвачена Rebuild Station - она производит киборгов, различных типов. 
Киборги атакуют главгеров.

Традиционное рогаликовое средство, подстегивающее exploring (ну типа аналог голода): вирусное заражение. Оба главгера
заражены вирусным заболеванием, которое постепенно берет контроль над их телом. У каждого из главгеров есть параметр - 
уровень заражения в процентах. Когда он дойдет до 100, главгер становится дроидом (см. Biomega): нечто вроде зомби. Он 
рандомно двигается и больше ничего не делает. При 100-процентном заражении все клетки тела поражены вирусом, генетическая
информация полностью разрушена и не поддается восстановлению: то есть, даже если зараженного персонажа убить, на Rebuild Station 
восстановить его не получится. Fail, в общем. На Rebuild Station'ах можно снижать уровень заражения, но окончательного излечения они 
не предоставляют. Окончательно вылечиться можно, приняв вакцину, которая хранится на специальной станции, и найти ее - цель игры.

Виды врагов:
* стреляющие (двигаются медленнее) (SafeGuards)
* атакующие ближней атакой (двигаются быстрее) (Silicon Creatures)
* охотники. (Level 9 - это их так звать будет) Используют алгоритм поиска пути для перемещения по уровню и поиска целей
(остальные виды киборгов в основном кучкуются около станций, их производящих и рандомно разбросаны по уровню)

Параметры персонажа:
* Количество хп
* Количество энергии. Медленно восстанавливается. Максимальное количество зависит от вставленных в пушку импов
Тратится: при выстреле, на щит. Может быть восполнено на Power Station'ах
* Щит. Появляется при вставке соответствующего импа. Принимает на себя часть дамага.
* Уровень заражения в процентах

Окно статистики:
* Имя персонажа
* Количество хп
* Щит
* Количество Энергии
* Уровень заражения в процентах

Окно оружия:
Вверху: чье оружие (например, Killy's weapon)
Статы оружия (дамаг, дополнительные эффекты)

Главгеров путешествует двое. Настройки второго персонажа (которым не управляем в данный момент):
* стоять на месте
* следовать за товарищем
* атаковать мобов

Варианты импов (модификаторов, вставляемых в сокеты в пушку):
* damage, различного уровня (три уровня)
* kickback моба
* paralyze - парализовать врага на какое-то время
* второй левел оружия (у Килли): плюс дамаг, пробивание стен
* щит
* "аккумулятор" - запасает энергию.
* mind hack (mind connector) - получить доступ к интерфейсу киборга, взломать его
Взлом выглядит следующим образом: загружается небольшой лабиринт в форме вытянутого прямоугольника (такой типа коридор). 
Главгер загружается в одном конце этого коридора. Ему нужно дойти до другого конца до определенной точки и встать на нее. Тогда взлом
считается успешным - будет получен доступ к управлению киборгом. Враги - защитные программы киборга, будут возникать по дороге и 
мешать ему (точнее, пытаться убить. Но смерть в этом виртуальном пространстве не будет означать смерть реальную, а только дисконнект). 
Для усложнения наверное надо будет сделать ограничение по времени.
Взломанным мобом можно управлять: атаковать им его товарищей (до момента первой атаки они не считают его враждебным. Если 
взломать одиночку вдали от других киборгов, то им можно "сходить на разведку" - походить по району, посмотреть, где какие 
станции находятся и где какие киборги бродят), вытащить все импы из его пушки, приказать отключиться.

Киборги, вооруженные майнд-коннекторами, аналогично могут атаковать главгеров. Также загружается небольшой лабиринт,
и в нем нужно уничтожить киборга. Если киборг убивает главгера в этом коридоре, он захватывает власть над телом. После этого у 
оставшегося главгера еще остается шанс спасти товрища: нужно уничтожить своего напарника (он будет пытаться уничтожить вас) и 
восстановить его тело на ближайшей Rebuild Station.

Эффекты от расположения модификаторов:
* если два одинаковых модификатора расположены рядом, эффект от каждого: базовое количество плюс 20%
например, если два импа на +10 дамага расположены рядом, суммарный дамаг: (10+2)+(10+2)=14
* если три и больше: эффект от каждого: базовое значение плюс 30% (продумать, имеет ли смысл дальнейшее увеличение бонуса,
типа если четыре, то плюс 40% итд).